<chain-9.xml>
  <default-scene>	DefaultScene	</default-scene>
  <initial-scene>	Hangar	</initial-scene>
  <scenes>
    <scene>	Hangar	  <gui-items>
        <gui-item>	PremiumButton	  <on-scene-effects>
            <activate>	PremiumButtonOnScene	</activate>
          </on-scene-effects>
          <not-on-scene-effects>
            <inactivate>	PremiumButtonOnScene	</inactivate>
          </not-on-scene-effects>
        </gui-item>
        <gui-item>	PremiumPeriodRenderer	  <on-scene-effects>
            <activate>	PremiumPeriodRendererOnScene	</activate>
          </on-scene-effects>
          <not-on-scene-effects>
            <inactivate>	PremiumPeriodRendererOnScene	</inactivate>
            <refuse-training>
              <condition>
                <inactive>	PremiumPeriodRendererClicked	</inactive>
              </condition>
            </refuse-training>
          </not-on-scene-effects>
        </gui-item>
        <gui-item>	PremiumWindowSubmitButton	  <on-scene-effects>
            <activate>	PremiumWindowSubmitButtonOnScene	</activate>
          </on-scene-effects>
          <not-on-scene-effects>
            <inactivate>	PremiumWindowSubmitButtonOnScene	</inactivate>
            <refuse-training>
              <condition>
                <inactive>	PremiumWindowSubmitButtonClicked	</inactive>
              </condition>
            </refuse-training>
          </not-on-scene-effects>
        </gui-item>
      </gui-items>
      <post-effects>
        <clear-scene></clear-scene>
        <inactivate>	BonusReceived	</inactivate>
        <inactivate>	PremiumDiscountsChanged	</inactivate>
        <inactivate>	PremiumPeriodRendererClicked	</inactivate>
        <inactivate>	PremiumWindowSubmitButtonClicked	</inactivate>
        <inactivate>	ShowCongratulationWindow	</inactivate>
        <run-trigger>	BonusTrigger	</run-trigger>
      </post-effects>
      <runtime-effects>
        <set-gui-item-criteria>	PremiumPeriodCriteria	  <condition>
            <var>	PremiumDays	  <is-not-none></is-not-none>
            </var>
            <effect-not-triggered>	PremiumPeriodRendererCriteria	</effect-not-triggered>
          </condition>
        </set-gui-item-criteria>
        <run-trigger>	PremiumDiscountsChangedTrigger	  <condition>
            <var>	PremiumDays	  <is-not-none></is-not-none>
            </var>
            <effect-not-triggered>	PremiumDiscountsChangedTrigger	</effect-not-triggered>
          </condition>
        </run-trigger>
        <run-trigger>	SimpleDialogTrigger	  <condition>
            <var>	PremiumDays	  <is-not-none></is-not-none>
            </var>
            <effect-not-triggered>	SimpleDialogTrigger	</effect-not-triggered>
          </condition>
        </run-trigger>
        <show-hint>	PremiumButtonHint	  <condition>
            <active>	PremiumButtonOnScene	</active>
            <inactive>	PremiumWindowSubmitButtonOnScene	</inactive>
            <var>	PremiumDays	  <is-not-none></is-not-none>
            </var>
            <effect-not-triggered>	PremiumButtonHint	</effect-not-triggered>
          </condition>
        </show-hint>
        <show-hint>	PremiumPeriodRendererHint	  <condition>
            <active>	PremiumPeriodRendererOnScene	</active>
            <var>	PremiumDays	  <is-not-none></is-not-none>
            </var>
            <effect-not-triggered>	PremiumPeriodRendererHint	</effect-not-triggered>
          </condition>
        </show-hint>
        <show-hint>	PremiumWindowSubmitButtonHint	  <condition>
            <active>	PremiumWindowSubmitButtonOnScene	</active>
            <active>	PremiumPeriodRendererClicked	</active>
            <var>	PremiumDays	  <is-not-none></is-not-none>
            </var>
            <effect-not-triggered>	PremiumWindowSubmitButtonHint	</effect-not-triggered>
          </condition>
        </show-hint>
        <refuse-training>
          <condition>
            <either>
              <effect-triggered>	CongratulationWindow	</effect-triggered>
              <var>	PremiumDays	  <is-none></is-none>
              </var>
            </either>
          </condition>
        </refuse-training>
      </runtime-effects>
    </scene>
    <scene>	DefaultScene	  <post-effects>
        <refuse-training></refuse-training>
      </post-effects>
      <runtime-effects></runtime-effects>
      <gui-items></gui-items>
    </scene>
  </scenes>
  <has-id>
    <gui-item-criteria>	PremiumPeriodCriteria	  <item-id>	FindPremiumPeriod	</item-id>
      <value>	id=$PremiumDays$	</value>
    </gui-item-criteria>
    <hint>	PremiumButtonHint	  <item-id>	PremiumButton	</item-id>
      <text>	_(#tutorial:chain9/hint/open)	</text>
      <arrow>
        <direction>	B	</direction>
        <loop>	True	</loop>
      </arrow>
      <actions>
        <click>	PremiumButton	  <effects>
            <close-hint>	PremiumButtonHint	</close-hint>
          </effects>
        </click>
        <click-outside>	PremiumButton	  <effects>
            <refuse-training></refuse-training>
          </effects>
        </click-outside>
        <esc>	PremiumButton	  <effects>
            <refuse-training></refuse-training>
          </effects>
        </esc>
      </actions>
    </hint>
    <hint>	PremiumPeriodRendererHint	  <item-id>	PremiumPeriodRenderer	</item-id>
      <text>	_(#tutorial:chain9/hint/select)	</text>
      <arrow>
        <direction>	B	</direction>
        <loop>	True	</loop>
      </arrow>
      <actions>
        <click>	PremiumPeriodRenderer	  <effects>
            <activate>	PremiumPeriodRendererClicked	</activate>
            <close-hint>	PremiumPeriodRendererHint	</close-hint>
          </effects>
        </click>
        <click-outside>	PremiumPeriodRenderer	  <effects>
            <refuse-training></refuse-training>
          </effects>
        </click-outside>
        <esc>	PremiumPeriodRenderer	  <effects>
            <refuse-training></refuse-training>
          </effects>
        </esc>
      </actions>
    </hint>
    <hint>	PremiumWindowSubmitButtonHint	  <item-id>	PremiumWindowSubmitButton	</item-id>
      <text>	_(#tutorial:chain9/hint/submit)	</text>
      <arrow>
        <direction>	L	</direction>
        <loop>	True	</loop>
      </arrow>
      <actions>
        <click>	PremiumWindowSubmitButton	  <effects>
            <activate>	PremiumWindowSubmitButtonClicked	</activate>
            <close-hint>	PremiumWindowSubmitButtonHint	</close-hint>
          </effects>
        </click>
        <click-outside>	PremiumWindowSubmitButton	  <effects>
            <refuse-training></refuse-training>
          </effects>
        </click-outside>
        <esc>	PremiumWindowSubmitButton	  <effects>
            <refuse-training></refuse-training>
          </effects>
        </esc>
      </actions>
    </hint>
    <simple-window>	CongratulationWindow	  <type>	awardWindow	</type>
      <description>	_(#tutorial:tutorialQuest/awardWindow/description/quest9)	</description>
      <var-ref>	ChapterVar	</var-ref>
    </simple-window>
  </has-id>
  <triggers>
    <trigger>	PremiumDiscountsChangedTrigger	  <type>	premiumDiscount	</type>
      <validate-var>	PremiumDays	</validate-var>
      <validate-update-only></validate-update-only>
      <on-effects>
        <activate>	PremiumDiscountsChanged	</activate>
        <request-bonus></request-bonus>
      </on-effects>
      <off-effects>
        <refuse-training></refuse-training>
      </off-effects>
    </trigger>
    <trigger>	BonusTrigger	  <type>	bonus	</type>
      <on-effects>
        <activate>	BonusReceived	</activate>
        <show-award-window>	CongratulationWindow	  <condition>
            <active>	PremiumDiscountsChanged	</active>
          </condition>
        </show-award-window>
      </on-effects>
      <off-effects></off-effects>
    </trigger>
    <trigger>	SimpleDialogTrigger	  <type>	simpleDialog	</type>
      <on-effects>
        <refuse-training>
          <condition>
            <active>	BonusReceived	</active>
          </condition>
        </refuse-training>
      </on-effects>
      <off-effects>
        <refuse-training></refuse-training>
      </off-effects>
    </trigger>
  </triggers>
  <vars></vars>
</chain-9.xml>
